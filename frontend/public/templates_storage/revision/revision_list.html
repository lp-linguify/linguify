{% extends '../../base.html' %}

{% block content %}
<div class="container mt-5">
    <a href="{% url 'revision' %}" class="btn btn-outline-primary mb-4">Retour à la Page Principale</a>
    <h2 class="text-primary text-center mb-4">Cartes de Révision</h2>

    <!-- Barre de progression -->
    <div class="progress my-4">
        <div id="progress-bar" class="progress-bar" role="progressbar" style="width: {{ mots_revises|length|divisibleby:"mots_a_etudier|length|add:mots_revises|length"|floatformat:0 }}%;" aria-valuenow="{{ mots_revises|length }}" aria-valuemin="0" aria-valuemax="{{ mots_a_etudier|length|add:mots_revises|length }}">{{ mots_revises|length }}%</div>
    </div>

    <!-- Liste des mots à étudier encore -->
    <h3 class="text-danger mb-3">Mots à Étudier Encore</h3>
    <div class="card-container mb-5">
        {% for revision in mots_a_etudier %}
        <div class="card mb-4">
            <h3>{{ revision.vocabulaire.word }}</h3>
            <p><strong>Traduction :</strong> {{ revision.vocabulaire.translation }}</p>
            <p><strong>Définition :</strong> {{ revision.vocabulaire.definition }}</p>
            <p><strong>Exemple :</strong> {{ revision.vocabulaire.example }}</p>
            <p><strong>Traduction de l'exemple :</strong> {{ revision.vocabulaire.example_translation }}</p>
            <div class="card-actions mt-3 text-center">
                <a href="{% url 'mark_as_known' revision.id %}" class="btn btn-success">Connais</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Liste des mots révisés -->
    <h3 class="text-success mb-3">Mots Révisés</h3>
    <div class="card-container mb-5">
        {% for revision in mots_revises %}
        <div class="card mb-4">
            <h3>{{ revision.vocabulaire.word }}</h3>
            <p><strong>Traduction :</strong> {{ revision.vocabulaire.translation }}</p>
            <p><strong>Définition :</strong> {{ revision.vocabulaire.definition }}</p>
            <div class="card-actions mt-3 text-center">
                <a href="{% url 'mark_as_not_known' revision.id %}" class="btn btn-warning">Ne Connais Pas</a>
            </div>
        </div>
        {% endfor %}
    </div>

    <!-- Bouton de Réinitialisation -->
    <div class="text-right">
        <a href="{% url 'reset_revisions' %}" class="btn btn-danger">Réinitialiser la Révision</a>
    </div>
</div>
{% endblock %}
