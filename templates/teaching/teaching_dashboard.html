{% extends 'base.html' %}
{% load static %}

{% block content %}
    <section>
        <h1>Dashboard de teaching</h1>
        <p>Sélectionne ton professeur de langues</p>
    </section>

    <section>
        <div>
            <h2>Les professeurs de langues</h2>
            <h3>Filtres :</h3>
            <form action="" method="get">
                <fieldset>
                    <legend>Filtrer par langue :</legend>
                    <label for="language">Langue :</label>
                    <select name="language" id="language">
                        <option value="fr">Français</option>
                        <option value="en">Anglais</option>
                        <option value="es">Espagnol</option>
                        <option value="de">Allemand</option>
                    </select>
                    <button type="submit">Filtrer</button>
                </fieldset>
            </form>

            <ul>
                {% for teacher in teachers %}
                    <li>
                        {{ teacher.first_name }} {{ teacher.last_name }} - {{ teacher.language }}
                        <form action="" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="teacher_id" value="{{ teacher.id }}">
                            <button type="submit">Sélectionner</button>
                        </form>
                    </li>
                {% empty %}
                    <li>Aucun professeur trouvé.</li>
                {% endfor %}
            </ul>
        </div>
    </section>
    <section>
        <h1>Vos Étudiants</h1>

        <ul>
            {% for selection in students %}
                <li>{{ selection.user.username }} - sélectionné le {{ selection.selected_at }}</li>
            {% empty %}
                <li>Aucun étudiant ne vous a encore sélectionné.</li>
            {% endfor %}
        </ul>
    
        <a href="{% url 'update_profile' %}">Mettre à jour votre profil</a>
    </section>
{% endblock %}
